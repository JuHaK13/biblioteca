<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Biblioteca Personal</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading">
        <div>‚è≥ Cargando...</div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="hidden">
        <div class="login-container">
            <h2>üìö Mi Biblioteca Personal</h2>
            
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchAuthTab('login')">Iniciar Sesi√≥n</button>
                <button class="auth-tab" onclick="switchAuthTab('register')">Registrarse</button>
            </div>

            <div id="errorMessage" class="error-message"></div>

            <!-- Login Form -->
            <div id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="tu@email.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Contrase√±a</label>
                    <input type="password" id="loginPassword" placeholder="M√≠nimo 6 caracteres">
                </div>
                <button class="btn btn-primary" style="width: 100%;" onclick="loginUser()">Iniciar Sesi√≥n</button>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="hidden">
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" placeholder="tu@email.com">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Contrase√±a</label>
                    <input type="password" id="registerPassword" placeholder="M√≠nimo 6 caracteres">
                </div>
                <div class="form-group">
                    <label for="registerName">Nombre (opcional)</label>
                    <input type="text" id="registerName" placeholder="Tu nombre">
                </div>
                <button class="btn btn-primary" style="width: 100%;" onclick="registerUser()">Crear Cuenta</button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <div class="container">
            <div class="header">
                <div class="logo">üìö Mi Biblioteca</div>
                <div class="user-info">
                    <span class="user-name" id="displayUsername"></span>
                    <button class="btn btn-secondary" onclick="logoutUser()">Cerrar Sesi√≥n</button>
                </div>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="switchTab('read')">üìñ Le√≠dos</button>
                <button class="tab" onclick="switchTab('wishlist')">‚≠ê Deseos</button>
            </div>

            <div class="content">
                <div id="readBooks" class="books-grid"></div>
                <div id="wishlistBooks" class="books-grid hidden"></div>
            </div>
        </div>

        <button class="add-book-btn" onclick="openModal()">+</button>
    </div>

    <!-- Add Book Modal -->
    <div id="bookModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>A√±adir Libro</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="form-group">
                <label for="bookTitle">T√≠tulo *</label>
                <input type="text" id="bookTitle" required>
            </div>
            <div class="form-group">
                <label for="bookAuthor">Autor *</label>
                <input type="text" id="bookAuthor" required>
            </div>
            <div class="form-group">
                <label for="bookImage">URL de Imagen</label>
                <input type="url" id="bookImage" placeholder="https://...">
            </div>
            <div class="form-group">
                <label for="bookGenre">G√©nero</label>
                <input type="text" id="bookGenre" placeholder="Ficci√≥n, Thriller, Romance...">
            </div>
            <div class="form-group">
                <label for="bookList">Lista</label>
                <select id="bookList">
                    <option value="read">Le√≠dos</option>
                    <option value="wishlist">Deseos</option>
                </select>
            </div>
            <button class="btn btn-primary" style="width: 100%;" onclick="addBook()">A√±adir Libro</button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/firebase-init.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/books.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>